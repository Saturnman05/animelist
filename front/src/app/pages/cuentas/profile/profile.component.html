<app-nav-bar />
<div class="profile-father">
    <mat-card class="profile-container">
        <mat-card-title>Perfil</mat-card-title>

        <mat-card-content>
            <form [formGroup]="profileForm" (submit)="onSubmit()">
                <mat-form-field appearance="outline">
                    <mat-label>Username</mat-label>
                    <input matInput formControlName="username" name="username" type="text" required>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" name="email" type="email" required>
                </mat-form-field>

                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput name="password" type="password" [defaultValue]="'password'" [disabled]="true"
                        required>
                </mat-form-field>

                <div class="profile-buttons">
                    @if (!isEditing) {
                    <button mat-flat-button color="primary" (click)="onChangeEnabled()" type="button">Edit</button>
                    } @else {
                    <button mat-flat-button color="primary" (click)="onChangeDisabled()" type="button">Cancel</button>
                    }

                    @if (!isLoading) {
                    <button mat-flat-button color="primary" type="submit" [disabled]="!isEditing">Confirm</button>
                    } @else {
                    <button mat-flat-button color="primary"><mat-spinner diameter="25" /></button>
                    }
                </div>
            </form>
        </mat-card-content>
    </mat-card>
</div>